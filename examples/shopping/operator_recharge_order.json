{
  "extends": ["json/base/database.json", "json/base/log.json"],
  "name": "operator_recharge_order",
  "input":"&.mysql_ebox.operator_recharge_order::id",
  "output":">>&.mysql_analysis.operator_recharge_order::id use UI",
  "querys": {
    "updated_at|datetime": {">=": ["@now|str", "-5M"], "<=":  ["@now|str"]}
  },
  "schema": {
    "id": "$.id",
    "order_id": "$.order_id",
    "brand_id": "$.brand_id|str",
    "brand_name": ["$.brand_id|ObjectId", "&.mongo_brand.brand::_id", ":$.name|str"],
    "dot_id": "$.dot_id",
    "dot_name": ["$.dot_id", "&.mysql_ebox.dot::id", ":$.name|str"],
    "operator_id": "$.operator_id",
    "operator_username": ["$.operator_id", "&.mysql_ebox.operator::id", ":$.username"],
    "operator_name": ["$.operator_id", "&.mysql_ebox.operator::id", ":$.operator_name|str"],
    "fee": "$.fee",
    "terminal_code": "$.terminal_code|str",
    "act_id": "$.act_id|str",
    "act_name": ["$.act_id|ObjectId", "&.mongo_operator.recharge_act::_id", ":$.name|str"],
    "act_type": "$.act_type",
    "act_fee": "$.act_fee",
    "pay_type": "$.pay_type",
    "status": "$.status",
    "status_name": {
      "#case": "$.status",
      ":1001": "用户下单",
      ":1901": "订单取消",
      ":2001": "等待支付",
      ":2101": "支付中",
      ":2501": "支付等待确认",
      ":2502": "支付确认",
      ":2801": "支付成功",
      ":2901": "支付失败",
      ":2902": "支付取消",
      ":3001": "等待发货",
      ":3010": "准备发货",
      ":3101": "配送中",
      ":3102": "已到站",
      ":3501": "用户已收货",
      ":3901": "配送完成",
      ":3902": "配送失败",
      ":4801": "申请退款",
      ":4802": "退款中",
      ":4901": "已退款",
      ":4902": "退款失败",
      ":4910": "已收款",
      ":4911": "收款失败",
      "#end": "$.status|str"
    },
    "created_at": "$.created_at|datetime %Y-%m-%d %H:%M:%S",
    "updated_at": "$.updated_at|datetime %Y-%m-%d %H:%M:%S"
  }
}